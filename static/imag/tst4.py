import io
import base64
from PIL import Image

s = "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"
imgdata = base64.b64decode(s)
img = Image.open(io.BytesIO(imgdata))

width, height = img.size
print (width, height)

im1 = img.crop((50, 20, 150, 100))

img.save("/tmp/out1.jpg")
im1.save("/tmp/out2.jpg")

im_rotate = img.rotate(90)
im_rotate.save("/tmp/out3.jpg")

with open("/tmp/out3.jpg", "rb") as image_file:
    es = base64.b64encode(image_file.read())
    print (str(es,'utf-8'))
